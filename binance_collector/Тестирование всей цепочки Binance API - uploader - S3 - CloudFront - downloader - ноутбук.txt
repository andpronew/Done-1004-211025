–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–π —Ü–µ–ø–æ—á–∫–∏ ¬´Binance API ‚Üí uploader ‚Üí S3 ‚Üí CloudFront ‚Üí downloader ‚Üí –Ω–æ—É—Ç–±—É–∫¬ª:


1. –¢–µ—Å—Ç—ã –Ω–∞ –≤—Ö–æ–¥ (Binance API ‚Üí uploader):
–ó–∞–¥–∞—á–∞: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ uploader —Ä–µ–∞–ª—å–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å Binance.

üîπ –ó–∞–ø—É—Å—Ç–∏—Ç—å uploader —Å use_signed_api=false –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª –≤ ./local_binance/
—Å –∏–º–µ–Ω–µ–º –≤—Ä–æ–¥–µ bn_BTCUSDT_YYYYMMDD_HHMMSS.json.gz.
–†–µ–∑—É–ª—å—Ç–∞—Ç: —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–∞–∫–∏ —Ñ–∞–π–ª—ã, –æ–Ω–∏ –Ω–µ –æ—Å—Ç–∞—é—Ç—Å—è –≤ ./local_binance/, –∞, –∫–∞–∫ –∏ –¥–æ–ª–∂–Ω–æ, –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ Amazon S3 - Buckets - binance-history-bucket.
üîπ –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª (—Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å gunzip -c <file>), —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–Ω—É—Ç—Ä–∏ JSON, –∏ —á—Ç–æ –≤ –Ω—ë–º –µ—Å—Ç—å —Å–¥–µ–ª–∫–∏:
–†–µ–∑—É–ª—å—Ç–∞—Ç: gunzip -c bn_BTCUSDT_20250908_222704.json.gz
[{"a":104028,"p":"112188.97000000","q":"0.00100000","f":125126,"l":125126,"T":1757367390134,"m":true,"M":true},{"a":104029,"p":"112188.98000000","q":"0.00100000","f":125127,"l":125127,"T":1757367390309,"m":false,"M":true},{"a":104030,"p":"112188.98000000","q":"0.03850000","f":125128,"l":125129,"T":1757367393406,"m":false,"M":true},{"a":104031,"p":"112188.97000000","q":"0.03850000","f":125130,"l":125130,"T":1757367396537,"m":true,"M":true},{"a":104032,"p":"112188.97000000","q":"0.78785000","f":125131,"l":125131,"T":1757367400964,"m":true,"M":true},{"a":104033,"p":"112188.99000000","q":"0.00712000","f":125132,"l":125133,"T":1757367402202,"m":false,"M":true},{"a":104034,"p":"112189.18000000","q":"0.00100000","f":125134,"l":125134,"T":1757367410066,"m":false,"M":true},{"a":104035,"p":"112189.18000000","q":"0.00100000","f":125135,"l":125135,"T":1757367410306,"m":false,"M":true},{"a":104036,"p":"112189.18000000","q":"0.00148000","f":125136,"l":125136,"T":1757367413748,"m":false,"M":true},{"a":104037,"p":"112189.19000000","q":"0.00712000","f":125137,"l":125138,"T":1757367418261,"m":false,"M":true},{"a"
üîπ –ü–æ–º–µ–Ω—è—Ç—å symbol –≤ config.json (–Ω–∞–ø—Ä–∏–º–µ—Ä, ETHUSDT –≤–º–µ—Å—Ç–æ BTCUSDT) –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ API-–æ—Ç–≤–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–ª—è –¥—Ä—É–≥–æ–π –ø–∞—Ä—ã.
–†–µ–∑—É–ª—å—Ç–∞—Ç: –≤ Amazon S3 - Buckets - binance-history-bucket —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è bn_BTCUSDT_20250910_172524.json.gz September 10, 2025, 20:25:27 (UTC+03:00) 16.3 K, bn_BTCUSDT_20250910_172732.json.gz September 10, 2025, 20:27:35 (UTC+03:00)16.4 KB, bn_ETHUSDT_20250910_170820.json.gz September 10, 2025, 20:08:24 (UTC+03:00) 14.8 KB, bn_ETHUSDT_20250910_171330.json.gz September 10, 2025, 20:13:33 (UTC+03:00) 14.8 KB –∏ –¥—Ä—É–≥–∏–µ.
üîπ –í–∫–ª—é—á–∏—Ç—å use_signed_api=true (—Å –∫–ª—é—á–∞–º–∏ —Ç–µ—Å—Ç–Ω–µ—Ç–∞) –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ uploader —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —Ç—Ä–µ–π–¥—ã (/myTrades).
–†–µ–∑—É–ª—å—Ç–∞—Ç:
./uploader
Uploader started. Local dir: ./local_binance, bucket: binance-history-bucket, symbol: BTCUSDT
DEBUG: requesting private myTrades: https://testnet.binance.vision/api/v3/myTrades?symbol=BTCUSDT&timestamp=1757544585450&recvWindow=5000&signature=e6fa007ea876b952d630c423e0be854ff927dd077a9119698e3fe82fc79015a0
ERROR: myTrades request failed
–≠–Ω–¥–ø–æ–∏–Ω—Ç /api/v3/myTrades –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ —Å–¥–µ–ª–∫–∏ –≤–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.
–ï—Å–ª–∏ –Ω–∞ Testnet –ø–æ BTCUSDT –Ω–µ –±—ã–ª–æ –æ—Ä–¥–µ—Ä–æ–≤ ‚Üí –±—É–¥–µ—Ç –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –∏–ª–∏ –æ—à–∏–±–∫–∞.

2. –¢–µ—Å—Ç—ã –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É (uploader ‚Üí S3):
–ó–∞–¥–∞—á–∞: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ gzip-—Ñ–∞–π–ª—ã –∏ manifest –ø–æ–ø–∞–¥–∞—é—Ç –≤ –±–∞–∫–µ—Ç.
üîπ –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ uploader –≤—ã–ø–æ–ª–Ω–∏—Ç—å aws s3 ls s3://binance-history-bucket/data/ –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–∞–º –ª–µ–∂–∞—Ç –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ª–µ–∂–∞—Ç,—Å–º. –≤—ã—à–µ.

üîπ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ manifest.json –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏ –≤ –Ω—ë–º newest-first –ø–æ—Ä—è–¥–æ–∫ (—Å—Ä–∞–≤–Ω–∏—Ç—å timestamps):
–†–µ–∑—É–ª—å—Ç–∞—Ç: –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:
[
  {
    "key": "data/bn_BTCUSDT_20250910_223418.json.gz",
    "name": "bn_BTCUSDT_20250910_223418.json.gz",
    "t": 1757543663568
  },
  {
    "key": "data/bn_BTCUSDT_20250910_223211.json.gz",
    "name": "bn_BTCUSDT_20250910_223211.json.gz",
    "t": 1757543535869
  },
  {
    "key": "data/bn_BTCUSDT_20250910_223002.json.gz",
    "name": "bn_BTCUSDT_20250910_223002.json.gz",
    "t": 1757543408055
    ....................................

3. –¢–µ—Å—Ç—ã –Ω–∞ CDN (S3 ‚Üí CloudFront)
–ó–∞–¥–∞—á–∞: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ CloudFront.

üîπ –í–∑—è—Ç—å –∏–º—è –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–∑ S3 (–Ω–∞–ø—Ä–∏–º–µ—Ä, bn_BTCUSDT_20250908_222455.json.gz).
üîπ –°–∫–∞—á–∞—Ç—å —á–µ—Ä–µ–∑ curl https://d2tg388r040kxc.cloudfront.net/data/bn_BTCUSDT_20250910_223418.json.gz -o test.gz
üîπ –°—Ä–∞–≤–Ω–∏—Ç—å md5-—Ö–µ—à —Å —Ñ–∞–π–ª–æ–º –∏–∑ S3 (aws s3 cp ‚Üí md5sum: https://us-east-1.console.aws.amazon.com/s3/object/binance-history-bucket?region=us-east-1&bucketType=general&prefix=data/bn_BTCUSDT_20250910_223418.json.gz ‚Äî –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å.
üîπ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É (CloudFront –æ–±—ã—á–Ω–æ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º S3 –Ω–∞–ø—Ä—è–º—É—é).
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
BUCKET="binance-history-bucket";                                                                             KEY="data/bn_BTCUSDT_20250910_223418.json.gz";
S3_TMP="/tmp/s3_file.gz";
# —Å–∫–∞—á–∞—Ç—å (uses your aws credentials)
time aws s3 cp "s3://$BUCKET/$KEY" "$S3_TMP";
# –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∏ md5
stat -c '%n %s bytes' "$S3_TMP";
md5sum "$S3_TMP";
sha256sum "$S3_TMP"
[8]   Exit 127                https://us-east-1.console.aws.amazon.com/s3/object/binance-history-bucket?region=us-east-1
download: s3://binance-history-bucket/data/bn_BTCUSDT_20250910_223418.json.gz to ../../../../../tmp/s3_file.gz
real	0m3.322s
user	0m1.365s
sys	0m0.822s
/tmp/s3_file.gz 16881 bytes
8d8a10b8b5d65d9f4307169c55a4ef9c  /tmp/s3_file.gz
431d84db10755c836b92859542544b80ba2c8e6df3b00d3b3272142617a4dbe5  /tmp/s3_file.gz
andpro@andpro-Lenovo-G580:~/study/binance_collector/build$ CF="d2tg388r040kxc.cloudfront.net";   # –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à
CF_URL="https://$CF/$KEY";
CF_TMP="/tmp/cf_file.gz";
# –∏–∑–º–µ—Ä–∏—Ç—å –¥–µ—Ç–∞–ª–∏: DNS, connect, starttransfer, total
curl -s -w '\nname_lookup=%{time_namelookup} connect=%{time_connect} start_transfer=%{time_starttransfer} total=%{time_total}\n' -o "$CF_TMP" "$CF_URL";
# —Ä–∞–∑–º–µ—Ä –∏ —Ö–µ—à–∏
stat -c '%n %s bytes' "$CF_TMP";
md5sum "$CF_TMP";
sha256sum "$CF_TMP"
name_lookup=0.054022 connect=0.079630 start_transfer=0.558398 total=0.558993
/tmp/cf_file.gz 16881 bytes
8d8a10b8b5d65d9f4307169c55a4ef9c  /tmp/cf_file.gz
431d84db10755c836b92859542544b80ba2c8e6df3b00d3b3272142617a4dbe5  /tmp/cf_file.gz
andpro@andpro-Lenovo-G580:~/study/binance_collector/build$ md5sum "$S3_TMP" "$CF_TMP";
sha256sum "$S3_TMP" "$CF_TMP"
8d8a10b8b5d65d9f4307169c55a4ef9c  /tmp/s3_file.gz
8d8a10b8b5d65d9f4307169c55a4ef9c  /tmp/cf_file.gz
431d84db10755c836b92859542544b80ba2c8e6df3b00d3b3272142617a4dbe5  /tmp/s3_file.gz
431d84db10755c836b92859542544b80ba2c8e6df3b00d3b3272142617a4dbe5  /tmp/cf_file.gz

–û–±—å—è—Å–Ω–µ–Ω–∏–µ:
—Å–∫–∞—á–∞–ª–∏ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏: –Ω–∞–ø—Ä—è–º—É—é –∏–∑ S3 –∏ —á–µ—Ä–µ–∑ CloudFront.
–†–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Å—É–º–º:
md5(s3)  = 8d8a10b8b5d65d9f4307169c55a4ef9c
md5(cf) = 8d8a10b8b5d65d9f4307169c55a4ef9c

sha256(s3) = 431d84db10755c836b92859542544b80ba2c8e6df3b00d3b3272142617a4dbe5
sha256(cf)= 431d84db10755c836b92859542544b80ba2c8e6df3b00d3b3272142617a4dbe5
‚Üí —Ö–µ—à–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç ‚áí —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –±–∞–π—Ç-–≤-–±–∞–π—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ. –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞.
–í—Ä–µ–º—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è:
S3 (aws s3 cp) took real 3.322s.
CloudFront (curl) took total=0.558993s (–≤ –≤—ã–≤–æ–¥–µ curl -w).
–ü–µ—Ä–µ–≤–µ–¥—ë–º –≤ –ø—Ä–æ–ø—É—Å–∫–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å (—Ñ–∞–π–ª 16881 –±–∞–π—Ç ‚âà 16.49 KB ‚âà 0.01609 MB):
S3: 0.01609 MB / 3.322 s ‚âà 0.00484 MB/s ‚âà 4.84 KB/s.
CloudFront: 0.01609 MB / 0.55899 s ‚âà 0.0288 MB/s ‚âà 28.8 KB/s.
–ò—Ç–æ–≥–æ: CloudFront ~6√ó –±—ã—Å—Ç—Ä–µ–µ –≤ –¥–∞–Ω–Ω–æ–º –∑–∞–º–µ—Ä–µ.

–ü–æ—á–µ–º—É S3 –±—ã–ª –º–µ–¥–ª–µ–Ω–Ω–µ–µ:
aws s3 cp –∏—Å–ø–æ–ª—å–∑—É–µ—Ç AWS SDK/CLI –∏ –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —à–∞–≥–∏/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (–º–∞–ª—ã–π overhead —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –æ–±—â—É—é latenc—É).
CloudFront –æ—Ç–¥–∞—ë—Ç –∏–∑ –±–ª–∏–∂–∞–π—à–µ–≥–æ edge (–º–µ–Ω—å—à–µ RTT) –∏ –∫–µ—à–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç ‚Äî –ø–æ—ç—Ç–æ–º—É —á–∞—Å—Ç–æ –±—ã—Å—Ç—Ä–µ–µ.
–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –¥–æ—Å—Ç—É–ø–µ CloudFront –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å origin fetch ‚Äî —Ç–µ–º –Ω–µ –º–µ–Ω–µ–µ –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ CF –æ–∫–∞–∑–∞–ª—Å—è –±—ã—Å—Ç—Ä–µ–µ (–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ edge –±–ª–∏–∂–µ –∏/–∏–ª–∏ S3 endpoint –¥–∞–ª –±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É).

–ó–∞–º–µ—á–∞–Ω–∏–µ: —Ñ–∞–π–ª –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–π (~16 KB), –ø–æ—ç—Ç–æ–º—É —Ç–∞–∫–∏–µ –∑–∞–º–µ—Ä—ã —à—É–º–Ω—ã–µ ‚Äî –æ–≤–µ—Ä—Ö–µ–¥ TLS/DNS/—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤–ª–∏—è–µ—Ç —Å–∏–ª—å–Ω–µ–µ, —á–µ–º –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å. –î–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö throughput-—Ç–µ—Å—Ç–æ–≤ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã (–ú–ë‚Äì–ì–ë) –∏–ª–∏ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–º–µ—Ä—ã.

4. –¢–µ—Å—Ç—ã –Ω–∞ –≤—ã—Ö–æ–¥ (CloudFront ‚Üí downloader ‚Üí –Ω–æ—É—Ç–±—É–∫):
–ó–∞–¥–∞—á–∞: —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ downloader –ø–æ–ª—É—á–∞–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–∞–π–ª—ã.
üîπ –ó–∞–ø—É—Å—Ç–∏—Ç—å ./downloader –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤ ./downloaded/ –ø–æ—è–≤–ª—è—é—Ç—Å—è gzip-—Ñ–∞–π–ª—ã.
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ø–æ–≤–ª—è—é—Ç—Å—è: bn_BTCUSDT_20250910_223418.json.gz –∏ —Ç.–¥.

üîπ –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å manifest.json:
–†–µ–∑—É–ª—å—Ç–∞—Ç: —Å–æ–≤–ø–∞–¥–∞–µ—Ç, —Ç–µ –∂–µ —Ñ–∞–π–ª—ã –≤—ã–≥—Ä—É–∑–∏–ª–∏—Å—å
[
  {
    "key": "data/bn_BTCUSDT_20250910_223418.json.gz",
    "name": "bn_BTCUSDT_20250910_223418.json.gz",
    "t": 1757543663568
  },
  {
    "key": "data/bn_BTCUSDT_20250910_223211.json.gz",
    "name": "bn_BTCUSDT_20250910_223211.json.gz",
    "t": 1757543535869
  },
  {
    "key": "data/bn_BTCUSDT_20250910_223002.json.gz",
    "name": "bn_BTCUSDT_20250910_223002.json.gz",
    "t": 1757543408055
    ........................................

5. –¢–µ—Å—Ç—ã –Ω–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Ü–µ–ø–æ—á–∫–∏ (—Å–∫–≤–æ–∑–Ω—ã–µ)
–ó–∞–¥–∞—á–∞: –ø—Ä–æ–π—Ç–∏ –≤–µ—Å—å –ø—É—Ç—å ¬´–æ—Ç Binance –¥–æ –Ω–æ—É—Ç–±—É–∫–∞¬ª.
üîπ –°—Ä–∞–≤–Ω–∏—Ç—å JSON –æ—Ç Binance (—Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–ø—Ä–æ—Å–∞, —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π uploader'–æ–º) –∏ JSON, —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Å–ª–µ downloader'–∞ ‚Äî —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å.
üîπ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –∑–∞–¥–µ—Ä–∂–∫–∏: —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É timestamp —Å–¥–µ–ª–∫–∏ (–∏–∑ Binance) –∏ –º–æ–º–µ–Ω—Ç–æ–º, –∫–æ–≥–¥–∞ —Ñ–∞–π–ª –æ–∫–∞–∑–∞–ª—Å—è –Ω–∞ –Ω–æ—É—Ç–±—É–∫–µ —á–µ—Ä–µ–∑ downloader.
üîπ –ó–∞–ø—É—Å—Ç–∏—Ç—å uploader –∏ downloader –≤ –ø–∞—Ä–∞–ª–ª–µ–ª–∏ (–∏–º–∏—Ç–∞—Ü–∏—è –±–æ–µ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞) –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ü–µ–ø–æ—á–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ.
–†–µ–∑—É–ª—å—Ç–∞—Ç:
# –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º (—Å–æ—Ä—Ç–∏—Ä—É–µ–º –∫–ª—é—á–∏) –∏ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º –∫–æ–º–ø–∞–∫—Ç–Ω–æ
jq -S . /tmp/orig.json > /tmp/orig.norm.json
jq -S . /tmp/downloaded.json > /tmp/downloaded.norm.json
# —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (–±–∞–π—Ç-–∑–∞-–±–∞–π—Ç)
if cmp -s /tmp/orig.norm.json /tmp/downloaded.norm.json; then
  echo "OK: JSON –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–æ–≤–ø–∞–¥–∞–µ—Ç (—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ)"
else
  echo "DIFF: JSON –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å diff:"
  diff -u /tmp/orig.norm.json /tmp/downloaded.norm.json | sed -n '1,200p'
fi
# –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ ‚Äî –±—ã—Å—Ç—Ä—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Å—É–º–º
sha256sum /tmp/orig.norm.json /tmp/downloaded.norm.json
OK: JSON –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–æ–≤–ø–∞–¥–∞–µ—Ç (—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ)
e232bcadc2d1d842587e1a131ef446b5e14ef045404b89eafa72e9ceef0e5bd0  /tmp/orig.norm.json
e232bcadc2d1d842587e1a131ef446b5e14ef045404b89eafa72e9ceef0e5bd0  /tmp/downloaded.norm.json

–ú—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏, —á—Ç–æ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π JSON –∏–∑ S3 –∏ —Ç–æ—Ç, —á—Ç–æ —Å–∫–∞—á–∞–ª downloader, –∏–¥–µ–Ω—Ç–∏—á–Ω—ã. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç: –±–∞–π—Ç–æ–≤–∞—è/—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Ü–µ–ø–æ—á–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∞—Å—å –¥–ª—è —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ ‚Äî –±–æ–ª—å—à–æ–π –ø–ª—é—Å

üìå –ò—Ç–æ–≥:
–ï—Å–ª–∏ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, –º–æ–∂–Ω–æ —É—Ç–≤–µ—Ä–∂–¥–∞—Ç—å, —á—Ç–æ —Ü–µ–ø–æ—á–∫–∞ ¬´Binance API ‚Üí uploader ‚Üí S3 ‚Üí CloudFront ‚Üí downloader ‚Üí –Ω–æ—É—Ç–±—É–∫¬ª —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥—ë–∂–Ω–æ, –Ω–æ –≤ —Ä–∞–º–∫–∞—Ö —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤.
