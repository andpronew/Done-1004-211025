–ö–ê–ö –ò–ó–í–õ–ï–ß–¨ –¢–ï–ö–£–©–£–Æ –°–ò–¢–£–ê–¶–ò–Æ –ü–û –ö–û–®–ï–õ–¨–ö–ê–ú –ë–ò–¢–ö–û–ò–ù–£ –ò –ò–°–¢–û–†–ò–Æ –î–í–ò–ñ–ï–ù–ò–ô –ü–û –ù–ò–ú –ó–ê –ó–ê–î–ê–ù–ù–´–ô –ü–ï–†–ò–û–î
–ö–ê–ö –ú–û–ñ–ù–û –û–ë–†–ê–ë–û–¢–ê–¢–¨ –≠–¢–£ –ò–ù–§–û–†–ú–ê–¶–ò–Æ –° –ü–û–ú–û–©–¨–Æ C++.

–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –ø–æ –±–∏—Ç–∫–æ–∏–Ω-–∫–æ—à–µ–ª—å–∫–∞–º (–∞–¥—Ä–µ—Å–∞–º) –∏ –∏—Å—Ç–æ—Ä–∏–∏ –¥–≤–∏–∂–µ–Ω–∏–π —Å—Ä–µ–¥—Å—Ç–≤ —Ç—Ä–µ–±—É–µ—Ç —Ä–∞–±–æ—Ç—ã –ª–∏–±–æ:
    –° –ø–æ–ª–Ω–æ–π –Ω–æ–¥–æ–π Bitcoin Core, —á–µ—Ä–µ–∑ RPC-–∑–∞–ø—Ä–æ—Å—ã, –ª–∏–±–æ
    –° –≤–Ω–µ—à–Ω–∏–º–∏ API, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ Blockstream, Mempool.space, Blockchair.
    –õ–∏–±–æ —á–µ—Ä–µ–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä –±–ª–æ–∫—á–µ–π–Ω–∞ (—Ç—è–∂–µ–ª–æ, –Ω–æ –¥–∞—ë—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å).

–î–∞–ª–µ–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å –∏ –∫–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ C++.
üì¶ –ß—Ç–æ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –ø–æ –∞–¥—Ä–µ—Å—É (–∫–æ—à–µ–ª—å–∫—É)
–ß—Ç–æ –º–æ–∂–Ω–æ –∏–∑–≤–ª–µ—á—å				–ü—Ä–∏–º–µ—Ä
–ë–∞–ª–∞–Ω—Å						–°—É–º–º–∞ UTXO (–≤ —Å–∞—Ç–æ—à–∏/BTC)
–ö–æ–ª-–≤–æ –≤—Ö–æ–¥—è—â–∏—Ö –∏ –∏—Å—Ö–æ–¥—è—â–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π		33 –≤—Ö–æ–¥–∞, 28 –≤—ã—Ö–æ–¥–∞
–í—Ä–µ–º—è –∏ —Ä–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è			2024-11-02 13:45, 0.1 BTC
–ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π				TxID, input/output, –±–ª–æ–∫, –≤—Ä–µ–º—è
–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –ø–µ—Ä–∏–æ–¥				–ö–æ–ª-–≤–æ –∏ –æ–±—ä—ë–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å X –ø–æ Y
–°–≤—è–∑–∞–Ω–Ω—ã–µ –∞–¥—Ä–µ—Å–∞				(—á–µ—Ä–µ–∑ –æ–±—â–∏–µ –≤—Ö–æ–¥—ã/–≤—ã—Ö–æ–¥—ã, –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—é)

üß∞ –°–ø–æ—Å–æ–±—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
üîπ 1. –ß–µ—Ä–µ–∑ API (–ø—Ä–æ—Å—Ç–æ–π –∏ –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±)
‚úÖ –ü—Ä–∏–º–µ—Ä—ã API:
    Blockstream.info
https://blockstream.info/explorer-api

Blockchair.com
https://blockchair.com/api/docs

Mempool.space
https://mempool.space/docs/api/rest

üìå –í–æ–∑–≤—Ä–∞—â–∞—é—Ç JSON —Å –∏—Å—Ç–æ—Ä–∏–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –±–∞–ª–∞–Ω—Å–æ–º, UTXO –∏ —Ç.–¥.
üîπ 2. –ß–µ—Ä–µ–∑ Bitcoin Core (–µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ–ª–Ω—ã–π —É–∑–µ–ª)

–ù—É–∂–Ω–æ:
    –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ RPC-—Å–µ—Ä–≤–µ—Ä—É bitcoind
    –í—ã–ø–æ–ª–Ω—è—Ç—å JSON-RPC –∑–∞–ø—Ä–æ—Å—ã:
bitcoin-cli getrawtransaction <txid> 1
bitcoin-cli getblock <blockhash>

‚öôÔ∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ C++

–¢–µ–ø–µ—Ä—å ‚Äî –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ C++, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –æ—Ç API –∏–ª–∏ —É–∑–ª–∞.
üîß –®–∞–≥ 1: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ HTTP-–∑–∞–ø—Ä–æ—Å–∞ (—á–µ—Ä–µ–∑ libcurl)
üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
sudo apt install libcurl4-openssl-dev

‚úÖ –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:

#include <iostream>
#include <curl/curl.h>
#include <string>

static size_t write_callback(void* contents, size_t size, size_t nmemb, std::string* output) {
    size_t total_size = size * nmemb;
    output->append((char*)contents, total_size);
    return total_size;
}

std::string get_address_info(const std::string& address) {
    CURL* curl = curl_easy_init();
    std::string response;

    if (curl) {
        std::string url = "https://blockstream.info/api/address/" + address + "/txs";
        curl_easy_setopt(curl, CURLOPT_URL, url.c_str());
        curl_easy_setopt(curl, CURLOPT_WRITEFUNCTION, write_callback);
        curl_easy_setopt(curl, CURLOPT_WRITEDATA, &response);
        CURLcode res = curl_easy_perform(curl);
        curl_easy_cleanup(curl);
    }

    return response;
}

int main() {
    std::string address = "bc1q...";
    std::string json_data = get_address_info(address);

    std::cout << "Raw JSON:\n" << json_data << std::endl;

    // –î–∞–ª–µ–µ: –ø–∞—Ä—Å–∏—Ç—å JSON (—Å–º. –Ω–∏–∂–µ)
    return 0;
}

üßæ –®–∞–≥ 2: –ü–∞—Ä—Å–∏–Ω–≥ JSON (—á–µ—Ä–µ–∑ nlohmann/json)

–î–æ–±–∞–≤—å—Ç–µ:

#include <nlohmann/json.hpp>
using json = nlohmann::json;

–ü–∞—Ä—Å–∏–Ω–≥:

json parsed = json::parse(json_data);

for (const auto& tx : parsed) {
    std::cout << "TXID: " << tx["txid"] << "\n";
    std::cout << "–†–∞–∑–º–µ—Ä: " << tx["vsize"] << " vB\n";
    std::cout << "–ë–ª–æ–∫: " << tx["status"]["block_height"] << "\n";
    std::cout << "–í—Ä–µ–º—è: " << tx["status"]["block_time"] << "\n";
    std::cout << "--------------------\n";
}

üìÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–µ

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥ 2024-01-01 ‚Äì 2024-03-01:
    –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ block_time –∏–∑ JSON –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–π—Ç–µ –∫–∞–∫ UNIX timestamp.
    –ú–æ–∂–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ std::chrono –∏–ª–∏ std::tm –≤ C++.

üìä –ß—Ç–æ –¥–∞–ª—å—à–µ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å:
    –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ –¥–≤–∏–∂–µ–Ω–∏—è BTC –ø–æ –∞–¥—Ä–µ—Å–∞–º
    –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å "—Ö–æ–ª–æ–¥–Ω–æ—Å—Ç—å" –∏–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞–¥—Ä–µ—Å–∞
    –°–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å–∞ –ø–æ –∫–ª–∞—Å—Ç–µ—Ä–∞–º (—á–µ—Ä–µ–∑ –æ–±—â–∏–µ –≤—Ö–æ–¥—ã)
    –ù–∞–π—Ç–∏ –æ–±—ä—ë–º –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥
    –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –±—ã–ª –ª–∏ –∞–¥—Ä–µ—Å —Å–≤—è–∑–∞–Ω —Å –±–∏—Ä–∂–∞–º–∏ (–ø–æ –±–∞–∑–∞–º –º–µ—Ç–æ–∫)

üìå –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–ó–∞–¥–∞—á–∞				–ü–æ–¥—Ö–æ–¥
–ò–∑–≤–ª–µ—á—å –±–∞–ª–∞–Ω—Å –∏ –∏—Å—Ç–æ—Ä–∏—é –∞–¥—Ä–µ—Å–∞	API Blockstream –∏–ª–∏ Blockchair
–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤ C++		–ß–µ—Ä–µ–∑ libcurl + nlohmann/json
–£–≥–ª—É–±–ª—ë–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å		–ß–µ—Ä–µ–∑ Bitcoin Core RPC
–ú–∞—Å—à—Ç–∞–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑		–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä –∏–ª–∏ –±–∞–∑–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ PostgreSQL)
